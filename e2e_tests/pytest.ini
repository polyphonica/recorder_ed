[pytest]
# Pytest configuration for E2E tests

# Django settings
DJANGO_SETTINGS_MODULE = recordered.settings

# Test discovery
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Default options
addopts =
    # Strict markers - must register all markers
    --strict-markers

    # Reuse database between tests (faster)
    --reuse-db

    # Show summary of all test outcomes
    -ra

    # Verbose output
    -v

    # Show local variables in tracebacks
    -l

    # Playwright options (commented out - enable as needed)
    # --headed                    # Show browser window
    # --slowmo 1000              # Slow down operations (ms)
    # --screenshot on-failure    # Screenshot on failure
    # --video on-failure         # Record video on failure
    # --browser chromium         # Specify browser

# Test markers
markers =
    e2e: End-to-end tests with Playwright
    slow: Slow running tests
    login: Login/authentication tests
    reschedule: Reschedule workflow tests
    payment: Payment flow tests
    critical: Critical user journey tests

# Logging
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Timeout (10 minutes for E2E tests)
timeout = 600

# Django database
django_db_modify_db_settings = true
