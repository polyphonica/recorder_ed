{% extends 'base.html' %}
{% load static %}

{% block title %}Certificate of Completion{% endblock %}

{% block content %}
<div class="section-courses min-h-screen bg-gradient-to-br from-purple-50 to-blue-50">
    <div class="container mx-auto px-4 py-8">
        <!-- Header Actions -->\
        <div class="flex justify-between items-center mb-6">
            <a href="{% url 'courses:certificate_gallery' %}" class="btn btn-ghost btn-sm">
                <i class="fas fa-arrow-left mr-2"></i>Back to Gallery
            </a>
            <div class="flex gap-2">
                <a href="{% url 'courses:certificate_download' certificate.id %}"
                   class="btn btn-primary btn-sm">
                    <i class="fas fa-download mr-2"></i>Download PDF
                </a>
                <button onclick="window.print()" class="btn btn-outline btn-sm">
                    <i class="fas fa-print mr-2"></i>Print
                </button>
            </div>
        </div>

        <!-- Certificate Display -->
        <div class="bg-white rounded-lg shadow-2xl p-8 print:shadow-none print:p-0">
            {% include 'courses/certificates/certificate_template.html' %}
        </div>

        <!-- Certificate Info -->
        <div class="mt-8 card bg-base-100 shadow-xl print:hidden">
            <div class="card-body">
                <h3 class="card-title">Certificate Information</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <p class="text-sm text-gray-600">Certificate Number</p>
                        <p class="font-semibold font-mono">{{ certificate_number }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600">Issue Date</p>
                        <p class="font-semibold">{{ issue_date }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600">Student</p>
                        <p class="font-semibold">{{ student_name }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600">Course</p>
                        <p class="font-semibold">{{ course_title }}</p>
                    </div>
                </div>

                <div class="divider"></div>

                <div class="alert alert-info">
                    <i class="fas fa-shield-alt"></i>
                    <div>
                        <div class="font-bold">Verification</div>
                        <div class="text-sm">
                            This certificate can be verified at
                            <a href="{% url 'courses:verify_certificate' %}?code={{ certificate_number }}"
                               class="link link-primary" target="_blank">
                                {{ request.build_absolute_uri }}{% url 'courses:verify_certificate' %}
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    @media print {
        .section-courses {
            background: white !important;
        }
        body {
            print-color-adjust: exact;
            -webkit-print-color-adjust: exact;
        }
    }
</style>
{% endblock %}
